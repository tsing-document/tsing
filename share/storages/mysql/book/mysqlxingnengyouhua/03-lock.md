#### 锁定机制

##### 简介
- 概要：
    - 保证数据的一致性而使各种共享资源在被并发访问下变得有序设计的一种规则。
- 分类：
    - 行级锁（row-level）
        - 行级锁定最大的特点就是锁定对象的颗粒度很小，也是目前各大数据库管理软件所实现的锁定颗粒度最小的。由于锁定颗粒度很小，所以发生锁定资源争用的概率也最小，能够给予应用程序尽可能大的并发处理能力提高一些需要高并发应用系统的整体性能。
        - 虽然能够在并发处理能力上面有较大的优势，但是行级锁也带来不少弊端。由于锁定的颗粒度很小，所以每次获取锁和释放锁需要做的事情很多，带来的消耗自然也就大了。此外，行级锁定也最容易发生死锁。
    - 表级锁（table-level）
        - 表级别的锁定是MySQL各种引擎中最大颗粒度的锁定机制。该机制最大的特点是实现逻辑非常简单，带来的系统负面影响最小。所以获取锁和释放锁的速度很快。由于表级锁一次会将整个表锁定，所以很好的避免困扰我们的死锁问题。
        - 会出现锁定资源争用的概率会最高。
    - 页级锁（page-level）
        - 页级锁锁定的颗粒度在行级锁和表级锁的中间，页级锁定和行级锁定一样，会发生死锁。
        - 在MySQL数据库中，使用表级锁定的主要是MyISAM、Memory、CSV等一些非事务性存储引擎，而使用行级锁定的主要是Innodb存储引擎和NDB Cluster存储引擎，页级锁定的主要是BerkeleyDB存储引擎锁定方式。

##### 锁机制分析 todo:// 这个需要重新弄
- MyISAM锁定分析
- InnoDB锁定分析

##### 优化锁机制
- 缩短锁定时间
- 分离能并行的操作
- 根据业务来设置读写的优先级
